<!-- templates/base.html -->
{% load static %}
<!DOCTYPE html>
<html class="h-100">

<head>
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!-- Bootstrap -->
<link rel="stylesheet" type="text/css" href="{% static 'js/bootstrap.js' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-grid.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}" />
<!-- Custom -->
<link rel="stylesheet" type="text/css" href="{% static 'css/custom/custom.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/custom/site.css' %}" />
<!-- Calendar -->
<link rel="stylesheet" type="text/css" href="{% static 'fullcalendar-3.4.0/fullcalendar.min.css' %}"rel='stylesheet'/>
<link rel="stylesheet" type="text/css" href="{% static 'fullcalendar-3.4.0/fullcalendar.print.min.css'%}" rel='stylesheet' media='print' />
<script src="{% static 'fullcalendar-3.4.0/lib/moment.min.js'%}"></script>
<script src="{% static 'fullcalendar-3.4.0/lib/jquery.min.js'%}"></script>
<script src="{% static 'fullcalendar-3.4.0/fullcalendar.min.js'%}"></script>
<!-- <script src="{% static 'js/custom/calendar.js'%}"></script> -->


  <meta charset="utf-8">
  <title>{% block title %}Django Auth Tutorial{% endblock %}</title>
</head>
<body class="h-100" background="{% static 'images/sunset_blind.jpg' %}">
    <div class="container containerClass">
    	<div class="col-12 text-center">
    		<a class="navbar-brand" href="{% url 'shfc:home'%}">
	  			<img src="{% static 'images/shfclogo.png' %}">
			</a>  
    	</div>
		<nav class="navbar navbar-dark bg-faded ">
		
	  		<a class="navbar-brand" href="{% url 'shfc:home'%}">
	    		Home
	  		</a>
	  		<a class="navbar-brand" href="{% url 'shfc:range' %}">
	    		Ranges
	  		</a>
	  		<a class="navbar-brand" href="{% url 'shfc:marine'%}">
	    		Marine
	  		</a>
	  		<a class="navbar-brand" href="{% url 'shfc:calendar'%}">
	    		Calendars
	  		</a>
	  		<a class="navbar-brand" href="{% url 'shfc:about'%}">
	    		About
	  		</a>
	  		<a class="navbar-brand" href="{% url 'shfc:membership'%}">
	    		Membership
	  		</a>
	  		{% if user.is_authenticated %}
	   			<a class="navbar-brand" href="{% url 'shfc:purchase'%}">
	    			Purchasing
	  			</a>
	  	    
	  			<a class="navbar-brand text-warning" href="{% url 'logout' %}">
	  				Logout
	  			</a>
	  			<h4>
	  				{{ user.username }}
	  			</h4>
	  		{% else %}
	  			<a  class="navbar-brand text-warning" href="{% url 'login' %}">
	  				Login
	  			</a>
	  		{% endif %}
		</nav>
	</div>
  <main class="h-75">
    <div class="container h-100">
    	<div class="row h-100">
    		<div class="col-9 containerClass h-100">
      		{% block content %}
      			<br>
      			<br>
      		{% endblock %}
      		<br>
      		<br>
    		</div>
    		<div class="col-3 text-center containerClass h-100">
    			<h2>Announcements</h2>
    			{% if user.is_authenticated %}

    			<div class="row">
    				<div class="col-12 customDivs">
    					<form action={% url 'shfc:newAnnouncement' %} method="post">
    					    {% csrf_token %}
  							<div class="form-group">
    							<label for="announcementType">Announcement Type</label>
    							<select name="announcement_type" class="form-control" id="announcementType">
      								<option value="danger">Critical</option>
      								<option value="info">Info</option>
      								<option value="warning">Warning</option>
    							</select>
  							</div>
  							<label for="announcementTitle">Title</label>
  							<input name="announcement_title" type="text" class="form-control" id="announcementTitle" aria-describedby="Title" placeholder="Enter Title" required>
  							<div class="form-group">
    							<label for="announcementDescription">Description</label>
    							<textarea name="announcement_description" class="form-control" id="announcementDescription" rows="3" required></textarea>
  							</div>
  							<div class="form-group">
    							<label for="announcementUser">User</label>
    							<input type="text" class="form-control" id="announcementUser"  value="{{user.username}}" readonly/>
    							<input type="text" name="announcement_user" class="invisible" value="{{user.pk}}" readonly/>
    							
  							</div>
    						<input type="submit" value="Create Announcement" class="btn btn-success"/>
						</form>
    				<br>
    				<br>
    				</div>
    			</div>
    			<br>
    			{% endif%}
    			{% for announcement in announcements %}
    			<div class="row bg-{{announcement.announcement_type}} text-center customDivs" >
    				<div class="col-12 text-left">
    					<h4 class="text-center">{{announcement.announcement_title}}</h4>
    					<ul class="list-group">
  							<li class="list-group-item list-group-item-{{announcement.announcement_type}}"><b>Posted Date: </b> {{announcement.announcement_date}}</li>
  							<li class="list-group-item list-group-item-{{announcement.announcement_type}}"><b>Desc: </b> {{announcement.announcement_description}}</li>
  							<li class="list-group-item list-group-item-{{announcement.announcement_type}}"><b>Posted By: </b> {{announcement.announcement_user.first_name}} {{announcement.announcement_user.last_name}}</li>
						</ul>
						<br>
    				</div>
    			</div>
    			<br>
    			{% endfor %}
    		</div>
    	</div>
      <!-- <footer class="h-25 customDivs" style="color:white">THIS IS THE FOOTER</footer> -->
    </div>
  </main>
</body>
</html>
